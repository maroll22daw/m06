<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ca">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>Càlcul de velocitats mitjanes</title>
</head>

<body>
	<p><b><u>APLICACIÓ PEL CÀLCUL DE VELOCITATS MITJANES</u></b></p>
	<b>a) Introudeix les dades de velocitat en quilòmetres per hora (Km/h):<br></b>
	<table>
		<tbody>
			<tr>
				<td>Mostra de velocitat 1:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 2:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 3:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 4:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 5:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 6:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
			<tr>
				<td>Mostra de velocitat 7:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
				<td>Mostra de velocitat 8:</td>
				<td><input type="number" name="vel[]" size="5" maxlength="6" value=0></td>
			</tr>
		</tbody>
	</table>
	<br>
	<b>b) Escull les unitats de velocitat del resultat:</b><br>
	<input name="uv[]" value="kmh" type="checkbox" checked>Km per hora (Km/h)<br>
	<input name="uv[]" value="mph" type="checkbox">Milles per hora (mph)<br>
	<input name="uv[]" value="mps" type="checkbox">Metres per segon (m/s)<br>
	<br>
	<button id="calcular" onclick='fCalculaMitjanes()'>Calcula mitjanes</button>
	<button id="netejarD" onclick='fNetejaDades()'>Neteja dades</button>
	<p><b>RESULTATS:</b></p>

	<p id="resultats"></p>
	<button id="netejarR" onclick='fNetejaResultats() '>Neteja resultats</button>
	<script>
		function fCalculaMitjanes() {

			let velocidad = document.getElementsByName('vel[]');
			let suma = 0;
			let mitjana = 0;
			

			for (let velocitat of velocidad) {
					suma += parseInt(velocitat.value);
					mitjana = suma / 8;
				

			}

			
			let clases = document.getElementsByName('uv[]');
			for (let tipus of clases){
				console.log("for")
				if (tipus.checked==true) {
					console.log("for")
					if (tipus.value=="kmh"){
						document.getElementById("resultats").innerHTML+= mitjana.toFixed(2)+"kmh<br>";
						
					}

					else if (tipus.value=="mph"){
						document.getElementById("resultats").innerHTML+= (mitjana*0.621).toFixed(2)+"mph<br>";


					}

					else if (tipus.value=="mps"){
						document.getElementById("resultats").innerHTML+= (mitjana*0.278).toFixed(2)+"mps";

					}
				}
			}
		
		}
		function fNetejaDades() {


			let neteja = document.getElementsByTagName('input');
			netejarR.onclick = (e) => {
				e.preventDefault();
				for (let i = 0; i < neteja.length; i++) {
					neteja[i].value = '';
				}
			}


		}

		function fNetejaResultats() {
			document.getElementById("resultats").innerHTML = " ";


		}
	</script>
</body>

</html>